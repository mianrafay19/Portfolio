@use "../../../styles/imports" as *;

.home-avatar {
  display: flex;
  justify-content: center;
  align-items: center;
  padding: $spacing-xl;
  min-height: 400px;
  position: relative;

  .avatar-frame {
    position: relative;
    width: clamp(280px, 35vw, 320px);
    height: clamp(280px, 35vw, 320px);
    transition: transform 0.3s ease;
    cursor: pointer;
    
    &:hover {
      .glow-rings {
        .ring-1 {
          opacity: 1;
          transform: scale(1.15);
          animation-duration: 2s;
        }
        
        .ring-2 {
          opacity: 0.8;
          transform: scale(1.08);
          animation-duration: 1.5s;
        }
      }
      
      .floating-particles {
        .particle {
          opacity: 1;
          animation-duration: 2.5s;
          transform: scale(1.3);
        }
      }
      
      .orbital-system {
        .orbit-ring {
          opacity: 0.6;
          animation: ringRotate 8s linear infinite;
        }
        
        .orbital-dot {
          opacity: 1;
          animation-duration: 8s;
        }
      }
      
      .energy-waves {
        .wave {
          opacity: 0.4;
          animation-duration: 2s;
        }
      }
      
      .rotating-border {
        opacity: 0.8;
        animation-duration: 4s;
      }
    }
  }
}

/* Clean circular profile image with continuous subtle animation */
.profile-img {
  width: 100%;
  height: 100%;
  border-radius: 50%;
  object-fit: cover;
  position: relative;
  z-index: 10;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
  transition: all 0.4s ease;
  animation: subtleBreathing 4s ease-in-out infinite;
  
  .avatar-frame:hover & {
    box-shadow: 0 20px 60px rgba(99, 102, 241, 0.3);
    transform: scale(1.05);
    animation-duration: 2s;
  }
}

/* Animated glow rings with continuous movement */
.glow-rings {
  position: absolute;
  inset: 0;
  
  .ring-1 {
    position: absolute;
    inset: -20px;
    border: 2px solid transparent;
    border-radius: 50%;
    opacity: 0.4;
    transition: all 0.4s ease;
    background: 
      radial-gradient(circle, transparent 75%, rgba(99, 102, 241, 0.1) 100%),
      linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899, #6366f1);
    background-clip: padding-box, border-box;
    animation: ringPulse 3s ease-in-out infinite;
  }
  
  .ring-2 {
    position: absolute;
    inset: -35px;
    border: 1px solid rgba(236, 72, 153, 0.3);
    border-radius: 50%;
    opacity: 0.3;
    transition: all 0.4s ease;
    animation: ringPulse 4s ease-in-out infinite reverse;
    background: radial-gradient(circle, transparent 80%, rgba(236, 72, 153, 0.05) 100%);
  }
}

/* Enhanced floating particles with continuous movement */
.floating-particles {
  position: absolute;
  inset: -100px;
  
  .particle {
    position: absolute;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    opacity: 0.6;
    animation: continuousFloat 8s ease-in-out infinite;
    box-shadow: 0 0 12px currentColor;
    transition: all 0.3s ease;
    
    &::after {
      content: '';
      position: absolute;
      inset: -2px;
      border-radius: 50%;
      background: inherit;
      opacity: 0.3;
      animation: particleGlow 2s ease-in-out infinite;
    }
    
    &.p-1 {
      top: 20%;
      right: 15%;
      background: #6366f1;
      color: #6366f1;
      animation-delay: 0s;
    }
    
    &.p-2 {
      bottom: 25%;
      left: 20%;
      background: #ec4899;
      color: #ec4899;
      animation-delay: -1.6s;
    }
    
    &.p-3 {
      top: 65%;
      left: 15%;
      background: #06b6d4;
      color: #06b6d4;
      animation-delay: -3.2s;
    }
    
    &.p-4 {
      bottom: 20%;
      right: 25%;
      background: #10b981;
      color: #10b981;
      animation-delay: -4.8s;
    }
    
    &.p-5 {
      top: 35%;
      right: 8%;
      background: #f59e0b;
      color: #f59e0b;
      animation-delay: -6.4s;
    }
    
    &.p-6 {
      bottom: 60%;
      left: 10%;
      background: #8b5cf6;
      color: #8b5cf6;
      animation-delay: -2.4s;
    }
  }
}

/* Continuous orbital system */
.orbital-system {
  position: absolute;
  inset: -60px;
  
  .orbit-ring {
    position: absolute;
    inset: 0;
    border: 1px dashed rgba(99, 102, 241, 0.3);
    border-radius: 50%;
    opacity: 0.3;
    transition: all 0.3s ease;
    animation: ringRotate 12s linear infinite;
  }
  
  .orbital-dot {
    position: absolute;
    width: 8px;
    height: 8px;
    border-radius: 50%;
    opacity: 0.7;
    animation: orbitContinuous 10s linear infinite;
    
    &::before {
      content: '';
      position: absolute;
      inset: -3px;
      border-radius: 50%;
      background: inherit;
      opacity: 0.3;
      animation: dotPulse 2s ease-in-out infinite;
    }
    
    &.dot-1 {
      background: linear-gradient(45deg, #6366f1, #8b5cf6);
      box-shadow: 0 0 15px #6366f1;
      animation-delay: 0s;
    }
    
    &.dot-2 {
      background: linear-gradient(45deg, #ec4899, #f43f5e);
      box-shadow: 0 0 15px #ec4899;
      animation-delay: -5s;
    }
    
    &.dot-3 {
      background: linear-gradient(45deg, #06b6d4, #0ea5e9);
      box-shadow: 0 0 15px #06b6d4;
      animation-delay: -3.3s;
    }
  }
}

/* Multiple energy waves */
.energy-waves {
  position: absolute;
  inset: -50px;
  
  .wave {
    position: absolute;
    inset: 0;
    border-radius: 50%;
    opacity: 0.2;
    animation: energyWave 3s ease-in-out infinite;
    
    &.wave-1 {
      background: radial-gradient(circle, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
      animation-delay: 0s;
    }
    
    &.wave-2 {
      background: radial-gradient(circle, rgba(236, 72, 153, 0.1) 0%, transparent 70%);
      animation-delay: -1s;
    }
    
    &.wave-3 {
      background: radial-gradient(circle, rgba(6, 182, 212, 0.1) 0%, transparent 70%);
      animation-delay: -2s;
    }
  }
}

/* Rotating border effect */
.rotating-border {
  position: absolute;
  inset: -45px;
  border-radius: 50%;
  opacity: 0.4;
  background: conic-gradient(from 0deg, transparent, #6366f1, transparent, #ec4899, transparent);
  mask: radial-gradient(circle, transparent 85%, black 87%, black 89%, transparent 91%);
  animation: borderRotate 6s linear infinite;
}

/* Size variants */
.avatar-frame {
  &.size-small {
    width: clamp(200px, 25vw, 240px);
    height: clamp(200px, 25vw, 240px);
  }
  
  &.size-large {
    width: clamp(320px, 45vw, 400px);
    height: clamp(320px, 45vw, 400px);
  }
}

/* Enhanced pulse animation */
.pulse-animation {
  animation: avatarPulse 1.2s ease-out;
  
  .glow-rings .ring-1 {
    animation: ringPulse 1.2s ease-out, avatarPulse 1.2s ease-out;
  }
  
  .floating-particles .particle {
    animation-duration: 1s;
  }
}

/* Rich animations */
@keyframes subtleBreathing {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.01); }
}

@keyframes continuousFloat {
  0% { 
    transform: translateY(0px) translateX(0px) scale(1) rotate(0deg); 
    opacity: 0.6; 
  }
  25% { 
    transform: translateY(-15px) translateX(8px) scale(1.2) rotate(90deg); 
    opacity: 1; 
  }
  50% { 
    transform: translateY(-5px) translateX(15px) scale(0.9) rotate(180deg); 
    opacity: 0.8; 
  }
  75% { 
    transform: translateY(10px) translateX(-5px) scale(1.1) rotate(270deg); 
    opacity: 0.9; 
  }
  100% { 
    transform: translateY(0px) translateX(0px) scale(1) rotate(360deg); 
    opacity: 0.6; 
  }
}

@keyframes ringPulse {
  0%, 100% { 
    transform: scale(1) rotate(0deg); 
    opacity: 0.4; 
  }
  50% { 
    transform: scale(1.03) rotate(180deg); 
    opacity: 0.7; 
  }
}

@keyframes orbitContinuous {
  0% { transform: rotate(0deg) translateX(120px) rotate(0deg); }
  100% { transform: rotate(360deg) translateX(120px) rotate(-360deg); }
}

@keyframes ringRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes energyWave {
  0%, 100% { 
    transform: scale(1); 
    opacity: 0.1; 
  }
  50% { 
    transform: scale(1.2); 
    opacity: 0.3; 
  }
}

@keyframes borderRotate {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

@keyframes particleGlow {
  0%, 100% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.5); opacity: 0.1; }
}

@keyframes dotPulse {
  0%, 100% { transform: scale(1); opacity: 0.3; }
  50% { transform: scale(1.3); opacity: 0.1; }
}

@keyframes avatarPulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Responsive adjustments */
@include mobile-adjustments {
  .home-avatar {
    padding: $spacing-lg;
    min-height: 350px;
    
    .avatar-frame {
      width: clamp(250px, 60vw, 280px);
      height: clamp(250px, 60vw, 280px);
    }
  }
  
  .floating-particles {
    inset: -70px;
    
    .particle {
      width: 4px;
      height: 4px;
    }
  }
  
  .orbital-system {
    inset: -50px;
  }
  
  @keyframes orbitContinuous {
    0% { transform: rotate(0deg) translateX(90px) rotate(0deg); }
    100% { transform: rotate(360deg) translateX(90px) rotate(-360deg); }
  }
}

@include xs-adjustments {
  .home-avatar {
    min-height: 320px;
    
    .avatar-frame {
      width: clamp(220px, 70vw, 260px);
      height: clamp(220px, 70vw, 260px);
    }
  }
  
  .floating-particles {
    .particle:nth-child(n+5) {
      display: none;
    }
  }
  
  .orbital-system .orbital-dot.dot-3 {
    display: none;
  }
}

/* Dark mode */
.dark-mode {
  .profile-img {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4);
    
    .avatar-frame:hover & {
      box-shadow: 0 20px 60px rgba(99, 102, 241, 0.25);
    }
  }
  
  .glow-rings .ring-1 {
    background: 
      radial-gradient(circle, transparent 75%, rgba(99, 102, 241, 0.15) 100%),
      linear-gradient(45deg, #6366f1, #8b5cf6, #ec4899, #6366f1);
    background-clip: padding-box, border-box;
  }
  
  .orbital-system .orbit-ring {
    border-color: rgba(99, 102, 241, 0.4);
  }
  
  .rotating-border {
    opacity: 0.3;
  }
}